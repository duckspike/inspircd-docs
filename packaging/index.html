<!DOCTYPE html><html lang=en> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width, initial-scale=1.0"><meta name=description content="InspIRCd is a modular C++ Internet Relay Chat (IRC) server for UNIX-like and Windows systems."><link href=https://docs.inspircd.org/packaging/ rel=canonical><link rel="shortcut icon" href=../img/favicon.ico><title>Packaging advice - InspIRCd Documentation</title><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.12.0/css/all.css><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.12.0/css/v4-shims.css><link rel=stylesheet href=//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css><link href=//rsms.me/inter/inter.css rel=stylesheet type=text/css><link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin" rel=stylesheet type=text/css><link href=../css/bootstrap-custom.min.css rel=stylesheet><link href=../css/base.min.css rel=stylesheet><link href=../css/cinder.min.css rel=stylesheet><link rel=stylesheet href=//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/styles/github.min.css><!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]--></head> <body> <div class="navbar navbar-default navbar-fixed-top" role=navigation> <div class=container> <div class=navbar-header> <button type=button class=navbar-toggle data-toggle=collapse data-target=.navbar-collapse> <span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span> </button> <a class=navbar-brand href=..>InspIRCd Documentation</a> </div> <div class="navbar-collapse collapse"> <ul class="nav navbar-nav"> <li class=dropdown> <a href=# class=dropdown-toggle data-toggle=dropdown>InspIRCd 3 <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=../3/installation/ >Installation</a> </li> <li> <a href=../3/configuration/ >Configuration</a> </li> <li> <a href=../3/commands/ >Commands</a> </li> <li> <a href=../3/channel-modes/ >Channel Modes</a> </li> <li> <a href=../3/extended-bans/ >Extended Bans</a> </li> <li> <a href=../3/user-modes/ >User Modes</a> </li> <li> <a href=../3/modules/ >Modules</a> </li> <li> <a href=../3/snomasks/ >SNOMasks</a> </li> <li> <a href=../3/change-log/ >Change Log</a> </li> </ul> </li> <li> <a href=https://github.com/inspircd/inspircd/releases/latest>Downloads</a> </li> <li> <a href=https://github.com/inspircd/inspircd/issues>Issue Tracker</a> </li> <li> <a href=https://www.inspircd.org/api/ >Developer API</a> </li> </ul> <ul class="nav navbar-nav navbar-right"> <li> <a href=# data-toggle=modal data-target=#mkdocs_search_modal> <i class="fas fa-search"></i> Search </a> </li> <li> <a href=https://github.com/inspircd/inspircd-docs/edit/master/docs/packaging.md><i class="fab fa-github"></i> Edit on GitHub</a> </li> </ul> </div> </div> </div> <div class=container> <div class=col-md-3><div class="bs-sidebar hidden-print affix well" role=complementary> <ul class="nav bs-sidenav"> <li class="first-level active"><a href=#packaging-advice>Packaging Advice</a></li> <li class=second-level><a href=#general-advice>General Advice</a></li> <li class=second-level><a href=#extra-modules>Extra Modules</a></li> <li class=second-level><a href=#patches>Patches</a></li> </ul> </div></div> <div class=col-md-9 role=main> <h2 id=packaging-advice>Packaging Advice</h2> <h3 id=general-advice>General Advice</h3> <p>Other than to <a href=https://github.com/inspircd/inspircd/security/policy#supported-versions>older branches which are still supported</a> we do not provide patch backports due to it requiring a significant amount of work on our behalf. Please try to avoid backporting patches by only shipping the latest version of InspIRCd wherever possible.</p> <p>Make sure to pass the <code>--distribution-label</code> option with a label that uniquely identifies your specific package and package version (e.g. mewos3.14) to configure when building. This helps us identify distribution packaged versions when people ask for support. See our <a href=https://github.com/inspircd/inspircd-packages/blob/master/rpm/inspircd.spec.in>official RPM package sources</a> for an example of how to use this.</p> <p>Please don't ship preconfigured config files as they become outdated very quickly and result in us having to answer the same support questions over and over again. Our example files should be well documented enough for users to create their own config files.</p> <p>If you are performing a system-wide install you should use the <code>--system</code> option. This will automatically the install paths for use in a system-wide install.</p> <p>When performing a system-wide build you may be asked to specify a user and group to run as. If you want to run as another user or if your package management system automatically handles changing file permissions then you may want to pass one of the following flag options to <code>./configure</code>.</p> <pre><code class=language-sh># If always run as root.
./configure --gid 0 --uid 0 ...

# If running as another user.
./configure --gid $(id -g) --uid $(id -u) ...
</code></pre> <h3 id=extra-modules>Extra Modules</h3> <p>By default the extra modules for which the dependencies are installed are automatically enabled when you run <code>./configure</code>. To override this you can pass <code>--disable-auto-extras</code> option to your initial <code>./configure</code> run and then execute <code>./configure</code> again with the <code>--enable-extras</code> option followed by a space delimited string of the list of modules you want to enable as shown below.</p> <pre><code class=language-sh>./configure --disable-auto-extras ...
./configure --enable-extras &quot;ldap regex_posix sslrehashsignal&quot;`
</code></pre> <p>It is recommended that you ship as many extra modules as possible but due to GPLv2 conflicts not all modules can legally be shipped in binary form. Below is a list of the modules shipped with the latest version and their legal status.</p> <table> <thead> <tr> <th>Module</th> <th>Library</th> <th>License</th> <th>GPLv2 compatible?</th> </tr> </thead> <tbody> <tr> <td><a href=/3/modules/argon2>argon2</a></td> <td>libargon2</td> <td>Apache 2.0 / CC0</td> <td>Yes</td> </tr> <tr> <td><a href=/3/modules/geo_maxmind>geo_maxmind</a></td> <td>libmaxminddb</td> <td>Apache 2.0</td> <td><strong>No</strong></td> </tr> <tr> <td><a href=/3/modules/ldap>ldap</a></td> <td>libldap2</td> <td>BSD-style</td> <td>Yes</td> </tr> <tr> <td><a href=/3/modules/mysql>mysql</a></td> <td>libmysqlclient</td> <td>GPLv2</td> <td>Yes</td> </tr> <tr> <td><a href=/3/modules/pgsql>pgsql</a></td> <td>libpq</td> <td>MIT</td> <td>Yes</td> </tr> <tr> <td><a href=/3/modules/regex_pcre>regex_pcre</a></td> <td>libpcre</td> <td>BSD 3-Clause</td> <td>Yes</td> </tr> <tr> <td><a href=/3/modules/regex_posix>regex_posix</a></td> <td><em>C stdlib</em></td> <td><em>Depends</em></td> <td><em>Maybe</em></td> </tr> <tr> <td><a href=/3/modules/regex_re2>regex_re2</a></td> <td>libre2</td> <td>BSD 3-Clause</td> <td>Yes</td> </tr> <tr> <td><a href=/3/modules/regex_stdlib>regex_stdlib</a></td> <td><em>C++ stdlib</em></td> <td><em>Depends</em></td> <td><em>Maybe</em></td> </tr> <tr> <td><a href=/3/modules/regex_tre>regex_tre</a></td> <td>libtre</td> <td>BSD 2-Clause</td> <td>Yes</td> </tr> <tr> <td><a href=/3/modules/sqlite3>sqlite3</a></td> <td>libsqlite3</td> <td>Public Domain</td> <td>Yes</td> </tr> <tr> <td><a href=/3/modules/ssl_gnutls>ssl_gnutls</a></td> <td>libgnutls</td> <td>LGPL2.1+</td> <td>Yes</td> </tr> <tr> <td><a href=/3/modules/ssl_mbedtls>ssl_mbedtls</a></td> <td>libmbedtls</td> <td>Apache 2.0</td> <td><strong>No</strong></td> </tr> <tr> <td><a href=/3/modules/ssl_openssl>ssl_openssl</a></td> <td>libcrypto libssl</td> <td>Custom / Apache 2.0</td> <td><strong>No</strong></td> </tr> <tr> <td><a href=/3/modules/sslrehashsignal>sslrehashsignal</a></td> <td><em>C stdlib</em></td> <td><em>Depends</em></td> <td><em>Maybe</em></td> </tr> </tbody> </table> <h3 id=patches>Patches</h3> <p>Please don't make major changes to InspIRCd when packaging because it makes it really hard for us to handle support and tracing bugs. Distributions doing this in the past has <a href=https://nvd.nist.gov/vuln/detail/CVE-2015-6674>led to them introducing security vulnerabilities</a> which put users at risk for <em>years</em>.</p> <p>If you have any minor patches which are relevant to people outside of your distribution then please upstream them. We are happy to receive and review patches that improve InspIRCd for everyone.</p></div> </div> <footer class="col-md-12 text-center"> <hr> <p> <small>All documentation is licensed under the <a href=/license>GNU GPLv2</a>.</small><br> <small>Documentation built with <a href=http://www.mkdocs.org/ >MkDocs</a>.</small> </p> </footer> <script src=//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js></script> <script src=../js/bootstrap-3.0.3.min.js></script> <script src=//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/highlight.min.js></script> <script>hljs.initHighlightingOnLoad();</script> <script>var base_url = ".."</script> <script src=../js/base.js></script> <script src=../search/main.js></script> <div class=modal id=mkdocs_search_modal tabindex=-1 role=dialog aria-labelledby=searchModalLabel aria-hidden=true> <div class="modal-dialog modal-lg"> <div class=modal-content> <div class=modal-header> <button type=button class=close data-dismiss=modal> <span aria-hidden=true>&times;</span> <span class=sr-only>Close</span> </button> <h4 class=modal-title id=searchModalLabel>Search</h4> </div> <div class=modal-body> <p> From here you can search these documents. Enter your search terms below. </p> <form> <div class=form-group> <input type=text class=form-control placeholder=Search... id=mkdocs-search-query title="Type search term here"> </div> </form> <div id=mkdocs-search-results></div> </div> <div class=modal-footer> </div> </div> </div> </div><div class=modal id=mkdocs_keyboard_modal tabindex=-1 role=dialog aria-labelledby=keyboardModalLabel aria-hidden=true> <div class=modal-dialog> <div class=modal-content> <div class=modal-header> <h4 class=modal-title id=keyboardModalLabel>Keyboard Shortcuts</h4> <button type=button class=close data-dismiss=modal><span aria-hidden=true>&times;</span><span class=sr-only>Close</span></button> </div> <div class=modal-body> <table class=table> <thead> <tr> <th style="width: 20%;">Keys</th> <th>Action</th> </tr> </thead> <tbody> <tr> <td class="help shortcut"><kbd>?</kbd></td> <td>Open this help</td> </tr> <tr> <td class="next shortcut"><kbd>n</kbd></td> <td>Next page</td> </tr> <tr> <td class="prev shortcut"><kbd>p</kbd></td> <td>Previous page</td> </tr> <tr> <td class="search shortcut"><kbd>s</kbd></td> <td>Search</td> </tr> </tbody> </table> </div> <div class=modal-footer> </div> </div> </div> </div> </body> </html> 